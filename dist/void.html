<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE VOID // RUNNER</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='none'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='16' y1='2' x2='16' y2='28' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0%25' stop-color='%23151520'/%3E%3Cstop offset='50%25' stop-color='%230a0a10'/%3E%3Cstop offset='100%25' stop-color='%23050505'/%3E%3C/linearGradient%3E%3Cfilter id='s' x='-20%25' y='-20%25' width='140%25' height='140%25'%3E%3CfeDropShadow dx='0' dy='1' stdDeviation='1.5' flood-color='%23a0c4ff' flood-opacity='0.5'/%3E%3C/filter%3E%3ClinearGradient id='e' x1='12' y1='12' x2='12' y2='18' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0%25' stop-color='%23c4d8ff'/%3E%3Cstop offset='100%25' stop-color='%23a0c4ff'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M16 2C9 2 4 8 4 15V28L10 24L16 28L22 24L28 28V15C28 8 23 2 16 2Z' fill='url(%23g)' filter='url(%23s)'/%3E%3Cpath d='M16 3.5C10 3.5 5.5 8.5 5.5 15V26.2L10.5 22.7L16 26.2L21.5 22.7L26.5 26.2V15C26.5 8.5 22 3.5 16 3.5Z' stroke='%23a0c4ff' stroke-width='1.5' stroke-linejoin='round' opacity='0.95'/%3E%3Cpath d='M10 13L14 15L10 17V13Z' fill='url(%23e)'/%3E%3Cpath d='M22 13L18 15L22 17V13Z' fill='url(%23e)'/%3E%3Cellipse cx='16' cy='7' rx='4' ry='2' fill='%23a0c4ff' opacity='0.12'/%3E%3C/svg%3E">
    <style>
        :root { 
            --bg: #0a0a0a; 
            --fg: #e0e0e0; 
            --accent: #888888;
        }
        
        body { 
            margin: 0; 
            background: var(--bg); 
            color: var(--fg); 
            font-family: 'Courier New', Courier, monospace; 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            overflow: hidden; 
        }

        .nav {
            position: fixed;
            top: 20px;
            left: 20px;
            text-decoration: none;
            color: var(--fg);
            font-weight: bold;
            font-size: 12px;
            border-bottom: 2px solid var(--fg);
            padding-bottom: 2px;
            z-index: 100;
            opacity: 0.5;
            transition: opacity 0.3s;
        }
        .nav:hover { opacity: 1; }

        .game-wrapper {
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        #score-container {
            position: absolute;
            top: -40px;
            right: 20px;
            font-size: 18px;
            color: var(--accent);
            display: flex;
            gap: 15px;
        }

        .game-area {
            width: 100%;
            height: 150px;
            position: relative;
            overflow: hidden;
            border-bottom: 2px solid var(--accent);
        }

        /* ENHANCED GHOST DINO */
        #dino {
            width: 44px;
            height: 48px;
            position: absolute;
            bottom: 0;
            left: 50px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,10 C30,10 15,30 15,55 C15,80 25,90 25,95 L35,85 L50,95 L65,85 L75,95 C75,90 85,80 85,55 C85,30 70,10 50,10 Z" fill="%23e0e0e0" opacity="0.9"/><circle cx="40" cy="40" r="5" fill="%230a0a0a"/><circle cx="65" cy="40" r="5" fill="%230a0a0a"/><circle cx="42" cy="38" r="2" fill="%23e0e0e0" opacity="0.5"/><circle cx="67" cy="38" r="2" fill="%23e0e0e0" opacity="0.5"/><path d="M30,65 Q50,75 70,65" fill="none" stroke="%230a0a0a" stroke-width="2" opacity="0.4"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 10;
            transition: height 0.1s, width 0.1s, bottom 0.1s;
        }

        #dino.running {
            animation: dino-glide 0.4s infinite alternate ease-in-out;
        }

        @keyframes dino-glide {
            from { transform: translateY(0) rotate(-2deg); }
            to { transform: translateY(-4px) rotate(2deg); }
        }

        #dino.ducking {
            height: 25px;
            width: 55px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 60"><path d="M10,30 Q10,10 40,10 Q90,10 110,30 Q110,50 90,50 Q40,50 10,50 Z" fill="%23e0e0e0" opacity="0.9"/><circle cx="85" cy="25" r="4" fill="%230a0a0a"/><circle cx="105" cy="25" r="4" fill="%230a0a0a"/></svg>');
        }

        /* GROUND TEXTURE */
        .ground-line {
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 200%;
            height: 12px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="12"><rect x="10" y="4" width="2" height="1" fill="%23333333"/><rect x="40" y="8" width="5" height="1" fill="%23333333"/><rect x="70" y="2" width="3" height="1" fill="%23333333"/><rect x="90" y="6" width="2" height="1" fill="%23333333"/></svg>');
            background-repeat: repeat-x;
            animation: ground-move 2s infinite linear;
        }

        @keyframes ground-move {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* OBSTACLES */
        .cactus {
            position: absolute;
            bottom: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="40" y="20" width="15" height="80" fill="%23e0e0e0"/><rect x="25" y="40" width="15" height="10" fill="%23e0e0e0"/><rect x="25" y="25" width="5" height="25" fill="%23e0e0e0"/><rect x="55" y="50" width="20" height="10" fill="%23e0e0e0"/><rect x="70" y="35" width="5" height="25" fill="%23e0e0e0"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
        }

        /* SEAGULL */
        .seagull {
            position: absolute;
            width: 40px;
            height: 20px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 40"><path d="M10,20 Q30,0 50,20 Q70,0 90,20" fill="none" stroke="%23e0e0e0" stroke-width="4" stroke-linecap="round"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
            animation: bird-flap 0.3s infinite alternate ease-in-out;
        }

        @keyframes bird-flap {
            from { transform: scaleY(1); }
            to { transform: scaleY(0.4); }
        }

        /* JUMP ANIMATION */
        .jump {
            animation: jump 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes jump {
            0% { bottom: 0; }
            45% { bottom: 95px; }
            55% { bottom: 95px; }
            100% { bottom: 0; }
        }

        /* BACKGROUND ELEMENTS */
        .cloud {
            position: absolute;
            top: 20px;
            width: 46px;
            height: 14px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 40"><path d="M20,30 Q30,10 50,20 Q70,0 85,25 Q100,40 20,40 Z" fill="%23333333"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.3;
            animation: cloud-move 15s infinite linear;
        }
        @keyframes cloud-move {
            from { right: -100px; }
            to { right: 110%; }
        }

    </style>
</head>
<body>

    <a href="index.html" class="nav">‚Üê RETURN TO REALITY</a>

    <div class="game-wrapper">
        <div id="score-container">
            <span id="hi-score">HI 00000</span>
            <span id="score">00000</span>
        </div>
        
        <div class="game-area" id="game-area">
            <div id="dino" class="running"></div>
            <div class="ground-line"></div>
            <div class="cloud" style="top: 30px; animation-duration: 20s;"></div>
            <div class="cloud" style="top: 10px; animation-duration: 35s; animation-delay: -5s;"></div>
        </div>
    </div>

    <script>
        const dino = document.getElementById("dino");
        const gameArea = document.getElementById("game-area");
        const scoreEl = document.getElementById("score");
        const hiScoreEl = document.getElementById("hi-score");

        let score = 0;
        let hiScore = parseInt(localStorage.getItem('void_hi_score') || '0');
        hiScoreEl.textContent = `HI ${hiScore.toString().padStart(5, '0')}`;

        function updateScore() {
            score++;
            scoreEl.textContent = score.toString().padStart(5, '0');
            if (score > hiScore) {
                hiScore = score;
                hiScoreEl.textContent = `HI ${hiScore.toString().padStart(5, '0')}`;
                localStorage.setItem('void_hi_score', hiScore);
            }
        }

        setInterval(updateScore, 100);

        function spawnObstacle() {
            const isBird = Math.random() > 0.7;
            const obstacle = document.createElement("div");
            
            if (isBird) {
                obstacle.classList.add("seagull");
                obstacle.style.bottom = Math.random() > 0.5 ? "40px" : "80px";
            } else {
                obstacle.classList.add("cactus");
                const type = Math.random();
                if (type > 0.6) {
                    obstacle.style.width = "25px";
                    obstacle.style.height = "50px";
                } else if (type > 0.3) {
                    obstacle.style.width = "20px";
                    obstacle.style.height = "40px";
                } else {
                    obstacle.style.width = "45px";
                    obstacle.style.height = "45px";
                }
                obstacle.style.bottom = "0";
            }

            obstacle.style.right = "-60px";
            gameArea.appendChild(obstacle);

            let obsPos = -60;
            const moveInterval = setInterval(() => {
                obsPos += 6;
                obstacle.style.right = obsPos + "px";

                const dinoRect = dino.getBoundingClientRect();
                const obsRect = obstacle.getBoundingClientRect();

                // Collision Detection
                if (
                    dinoRect.right > obsRect.left + 8 &&
                    dinoRect.left < obsRect.right - 8 &&
                    dinoRect.bottom > obsRect.top + 5 &&
                    dinoRect.top < obsRect.bottom - 5
                ) {
                    score = 0;
                }

                // AUTO-PILOT
                const distance = obsRect.left - dinoRect.right;
                
                // If it's a ground obstacle or a low bird -> Jump
                if (distance > 0 && distance < 120) {
                    if (obstacle.classList.contains("cactus") || (obstacle.classList.contains("seagull") && parseInt(obstacle.style.bottom) === 40)) {
                        if (!dino.classList.contains("jump") && !dino.classList.contains("ducking")) {
                            dino.classList.remove("running");
                            dino.classList.add("jump");
                            setTimeout(() => {
                                dino.classList.remove("jump");
                                dino.classList.add("running");
                            }, 600);
                        }
                    } 
                    // If it's a high bird -> Duck
                    else if (obstacle.classList.contains("seagull") && parseInt(obstacle.style.bottom) === 80) {
                        if (!dino.classList.contains("jump") && !dino.classList.contains("ducking")) {
                            dino.classList.remove("running");
                            dino.classList.add("ducking");
                            setTimeout(() => {
                                dino.classList.remove("ducking");
                                dino.classList.add("running");
                            }, 800);
                        }
                    }
                }

                if (obsPos > gameArea.offsetWidth + 100) {
                    clearInterval(moveInterval);
                    obstacle.remove();
                }
            }, 10);

            setTimeout(spawnObstacle, Math.random() * 1500 + 800);
        }

        spawnObstacle();

    </script>
</body>
</html>
