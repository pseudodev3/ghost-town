<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Blog</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='none'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='16' y1='2' x2='16' y2='28' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0%25' stop-color='%23151520'/%3E%3Cstop offset='50%25' stop-color='%230a0a10'/%3E%3Cstop offset='100%25' stop-color='%23050505'/%3E%3C/linearGradient%3E%3Cfilter id='s' x='-20%25' y='-20%25' width='140%25' height='140%25'%3E%3CfeDropShadow dx='0' dy='1' stdDeviation='1.5' flood-color='%23a0c4ff' flood-opacity='0.5'/%3E%3C/filter%3E%3ClinearGradient id='e' x1='12' y1='12' x2='12' y2='18' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0%25' stop-color='%23c4d8ff'/%3E%3Cstop offset='100%25' stop-color='%23a0c4ff'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M16 2C9 2 4 8 4 15V28L10 24L16 28L22 24L28 28V15C28 8 23 2 16 2Z' fill='url(%23g)' filter='url(%23s)'/%3E%3Cpath d='M16 3.5C10 3.5 5.5 8.5 5.5 15V26.2L10.5 22.7L16 26.2L21.5 22.7L26.5 26.2V15C26.5 8.5 22 3.5 16 3.5Z' stroke='%23a0c4ff' stroke-width='1.5' stroke-linejoin='round' opacity='0.95'/%3E%3Cpath d='M10 13L14 15L10 17V13Z' fill='url(%23e)'/%3E%3Cpath d='M22 13L18 15L22 17V13Z' fill='url(%23e)'/%3E%3Cellipse cx='16' cy='7' rx='4' ry='2' fill='%23a0c4ff' opacity='0.12'/%3E%3C/svg%3E">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            min-height: 100%;
        }
        body {
            background: transparent;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            position: relative;
            image-rendering: pixelated;
            margin: 0;
        }
        /* Tree background - NO dark overlay, covers full page */
        html {
            height: 100%;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            min-height: 100%;
            background: url('assets/tree.webp');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            image-rendering: pixelated;
            z-index: -2;
        }
        /* CRT scanline effect */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                rgba(18, 16, 16, 0) 50%,
                rgba(0, 0, 0, 0.25) 50%
            ),
            linear-gradient(
                90deg,
                rgba(255, 0, 0, 0.06),
                rgba(0, 255, 0, 0.02),
                rgba(0, 0, 255, 0.06)
            );
            background-size: 100% 4px, 3px 100%;
            pointer-events: none;
            z-index: 9999;
        }
        .pixelblog-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .pixelblog-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: transparent !important;
        }
        .pixelblog-header h1 {
            color: #ff00ff;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 6px;
            text-shadow: 
                3px 3px 0 #00ffff,
                -1px -1px 0 #000;
            font-weight: bold;
        }
        .back-btn {
            color: #00ffff;
            text-decoration: none;
            font-size: 0.8rem;
            border: 2px solid #00ffff;
            padding: 8px 16px;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 2px 2px 0 rgba(0, 255, 255, 0.3);
        }
        .back-btn:hover {
            background: #00ffff;
            color: #000;
            box-shadow: 4px 4px 0 rgba(0, 255, 255, 0.5);
        }
        #full-pixel-blog {
            min-height: 600px;
        }
        
        /* Make blog window transparent to show tree background */
        #full-pixel-blog > * {
            background: transparent !important;
        }
        
        /* Target shadow DOM host */
        #full-pixel-blog > div {
            background: transparent !important;
        }
        
        /* Make pixel borders have transparent background */
        :host(.pixel-border) {
            background: transparent !important;
        }
        
        /* Override any solid backgrounds in the blog content */
        #full-pixel-blog [class*="border"] {
            background: rgba(0, 0, 0, 0.3) !important;
            backdrop-filter: blur(2px);
        }
    </style>
    <style id="blog-transparent-styles">
        /* Deep override for shadow DOM elements */
        #pixel-blog-root {
            background: transparent !important;
        }
        .pixel-border {
            background: rgba(0, 0, 0, 0.4) !important;
            backdrop-filter: blur(4px);
            border: 2px solid rgba(255, 0, 255, 0.5) !important;
        }
    </style>
</head>
<body>
    <div class="pixelblog-header">
        <h1>PIXEL BLOG</h1>
        <a href="index.html" class="back-btn">‚Üê BACK</a>
    </div>
    <div class="pixelblog-content">
        <div id="full-pixel-blog"></div>
    </div>

    <script src="pixel-blog.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to inject transparent styles into shadow DOM
            function injectTransparentStyles() {
                const blogContainer = document.querySelector('#full-pixel-blog');
                if (blogContainer && blogContainer.shadowRoot) {
                    const styleEl = document.createElement('style');
                    styleEl.textContent = `
                        :host { background: transparent !important; }
                        #pixel-blog-root { 
                            background: transparent !important;
                            min-height: 100%;
                        }
                        .pixel-border, [class*="border"] {
                            background: rgba(0, 0, 0, 0.5) !important;
                            backdrop-filter: blur(4px);
                            border: 2px solid rgba(255, 0, 255, 0.4) !important;
                            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3) !important;
                        }
                        div[style*="background"] {
                            background-color: transparent !important;
                        }
                    `;
                    blogContainer.shadowRoot.appendChild(styleEl);
                    return true;
                }
                return false;
            }
            
            if (typeof PixelBlog !== 'undefined') {
                PixelBlog.mount({
                    container: '#full-pixel-blog',
                    adminPassword: 'ghost-town-1337',
                    storageKey: 'ghost_town_blog',
                    enableAdmin: true,
                    fullPage: true,
                    posts: [
                        {
                            id: 1,
                            title: "La Vague Streetwear",
                            date: "2026-02-19",
                            category: "Project",
                            excerpt: "Finished building the digital storefront for La Vague. Deep dives into texture, minimalism, and flow.",
                            content: "Finished building the digital storefront for La Vague. Deep dives into texture, minimalism, and flow. The project involved creating a unique e-commerce experience that captures the essence of streetwear culture while maintaining a clean, minimalist aesthetic. Every detail was crafted to reflect the brand's identity."
                        },
                        {
                            id: 2,
                            title: "Building GHOST",
                            date: "2026-02-05",
                            category: "AI",
                            excerpt: "Created a personal AI that lives on my laptop. It sees, it remembers, it helps.",
                            content: "Created a personal AI that lives on my laptop. It sees, it remembers, it helps. This has been a fascinating journey into local LLMs and computer vision. The ghost watches, learns, and assists in ways I never imagined possible. It's like having a digital companion that actually understands context."
                        },
                        {
                            id: 3,
                            title: "The 2030 Deadline",
                            date: "2026-01-20",
                            category: "Goals",
                            excerpt: "Setting impossible goals and chasing them. Superhero status or bust.",
                            content: "Setting impossible goals and chasing them. Superhero status or bust. By 2030, I aim to reach a level of mastery in my craft that rivals the heroes I look up to. Every day is a step toward that impossible goal. The journey is chaotic, but the direction is clear."
                        },
                        {
                            id: 4,
                            title: "Ghost Town Goes Live",
                            date: "2025-12-15",
                            category: "Launch",
                            excerpt: "Finally launched my personal site. CRT effects, ghost pets, and all.",
                            content: "Finally launched my personal site. CRT effects, ghost pets, and all. This has been a labor of love - combining retro aesthetics with modern web tech. The ghost town is now open for visitors. The CRT overlay, the flickering lights, the ambient music - everything came together to create this digital haunt."
                        }
                    ]
                });
                
                // Inject transparent styles into shadow DOM after mount
                setTimeout(function tryInject() {
                    if (!injectTransparentStyles()) {
                        // Retry if shadow DOM not ready yet
                        setTimeout(tryInject, 100);
                    }
                }, 100);
                
                // Also set up observer for dynamic content
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.addedNodes.length > 0) {
                            injectTransparentStyles();
                        }
                    });
                });
                
                const blogContainer = document.querySelector('#full-pixel-blog');
                if (blogContainer) {
                    observer.observe(blogContainer, { childList: true, subtree: true });
                }
            }
        });
    </script>
</body>
</html>
